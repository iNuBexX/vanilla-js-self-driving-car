<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Self-driving car - No libraries</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="carCanvas"></canvas>
    <div id="verticalElements">
        <div>
            <h1>Time To Live</h1>
            <div class="ttl-controls">
                <p>Time Left: <span id="ttlCounter">0</span></p>
                <input id="ttlInput" type="number" value="300" />
                <button onclick="saveTTL()">Save TTL</button>
            </div>
        </div>
        <h1>Difficulty</h1>
        <div class="Difficulty">
            <button onclick="setDifficulty('easy')" data-level="easy">Easy</button>
            <button onclick="setDifficulty('medium')" data-level="medium">Medium</button>
            <button onclick="setDifficulty('hard')" data-level="hard">Hard</button>
        </div>
        <h1>Save/Load</h1>
        <button onclick="save()">Save Best 💾</button>
        <textarea id="currentbestBrainTextArea"> current model brain : </textarea>
        <button onclick="discard()">Discard 🗑️</button>

        <h1>Agent Properties</h1>

        <div class="mutation-controls">
            <label for="mutationInput">Neural Network Mutation</label>
            <input id="mutationInput" type="number" value="0.01" />
            <button onclick="saveMutation()">Save Mutation</button>
        </div>
        <div class="culling-controls">
            <label for="numberOfStartingAgentsInput">Number Of Starting Agents</label>
            <input id="numberOfStartingAgentsInput" type="number" value="200" />
            <button onclick="SaveNbOfStartingAgents()">Save</button>
        </div>       
        
        <div class="culling-controls">
            <label for="cullDistanceInput">Culling Distance</label>
            <input id="cullDistanceInput" type="number" value="500" />
            <button onclick="saveCullDistance()">Save Culling</button>
        </div>    

        <h1>Sensors Properties</h1>
        <div class="sensor-controls">

            <label for="raySpreadInput">Sensor Angle</label>
            <input id="raySpreadInput" type="number" value="180" />
            <label for="rayCountInput">Sensor Number of Rays</label>
            <input id="rayCountInput" type="number" value="40" />
            <label for="rayLengthInput">Sensor Ray Length</label>
            <input id="rayLengthInput" type="number" value="150" />
            <button onclick="saveSensor()">Save Sensors</button>
        </div>

        <div id="neuralNetworkControls">
            <h3>Neural Network Configuration</h3>
            <div class="layerControl">
                <label>Input Layer (Rays):</label>
                <input type="number" value="5" disabled>
            </div>
            <div id="hiddenLayersContainer">
                <!-- Hidden layers will be dynamically added here -->
            </div>
            <div class="layer^ontrol">
                <label>Output Layer (Controls):</label>
                <input type="number" value="4" disabled>
            </div>
        </div>
    <button onclick="addLayer()">Add Hidden Layer</button>
    <button onclick="removeLayer()">Remove Hidden Layer</button>
    <button onclick="applyNetworkChanges()">Apply Changes</button>
    <button onclick="describeRandomCar()">Describe</button>
    <div id="carDescription"></div>
</div>
    </div>
    <canvas id="networkCanvas"></canvas>
    
    <script src="utils.js"></script>
    <script src="visualizer.js"></script>
    <script src="network.js"></script>
    <script src="sensor.js"></script>
    <script src="road.js"></script>
    <script src="controls.js"></script>
    <script src="car.js"></script>
    <script src="main.js"></script>
</body>
</html>